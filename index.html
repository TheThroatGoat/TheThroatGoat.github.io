<!DOCTYPE html>
<html>
<head>
	<title>Camera Demo</title>
	<style>
#camera-preview {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
		#person-alive {
			position: absolute;
			top: 50px;
			left: 50px;
			font-family: Impact, Charcoal, sans-serif;
			overflow: auto;
			user-select: none;
			z-index: 100;
			resize: none;
			color: white;
			text-stroke: 10px black;
			-webkit-text-stroke: 2px black;
			/* Add the following line to make the text editable and copyable */
			contenteditable: true;
		}


		#person-alive.resizable {
			resize: both;
		}
	</style>
</head>
<body>
<video id="camera-preview" autoplay></video>
<p id="person-alive" contenteditable>person alive</p>
	<script>	
// get the video element
		const video = document.getElementById('camera-preview');
		const personAlive = document.getElementById('person-alive');

		// prompt the user for camera access
		navigator.mediaDevices.getUserMedia({ video: true })
			.then(stream => {
				// set the video element source to the camera stream
				video.srcObject = stream;
			})
			.catch(error => {
				// handle errors
				console.error('Error accessing camera', error);
			});

		// make the "person alive" text draggable
		let isDragging = false;
		let currentX;
		let currentY;
		let initialX;
		let initialY;
		let xOffset = 0;
		let yOffset = 0;
		let initialHeight;

		personAlive.addEventListener('mousedown', dragStart);

		window.addEventListener('mouseup', dragEnd);
		window.addEventListener('mousemove', drag);

		function dragStart(e) {
			if (e.ctrlKey) {
				personAlive.classList.add('resizable');
			} else {
				initialX = e.clientX - xOffset;
				initialY = e.clientY - yOffset;

				if (e.target === personAlive) {
					isDragging = true;
				}
			}
		}

		function dragEnd(e) {
			if (!e.ctrlKey) {
				initialX = currentX;
				initialY = currentY;

				isDragging = false;
			}
		}

		function drag(e) {
			if (e.ctrlKey) {
				personAlive.classList.add('resizable');
			} else {
				personAlive.classList.remove('resizable');
			}

			if (isDragging && !e.ctrlKey) {
				e.preventDefault();

				currentX = e.clientX - initialX;
				currentY = e.clientY - initialY;

				xOffset = currentX;
				yOffset = currentY;

				setTranslate(currentX, currentY, personAlive);
			} else if (e.ctrlKey) {
				const height = personAlive.offsetHeight;
				const fontSize = height / 1.5;
				personAlive.style.fontSize = `${fontSize}px`;
			}
		}

		function setTranslate(xPos, yPos, el) {
			el.style.transform = `translate3d(${xPos}px, ${yPos}px, 0)`;
		}
	</script>
</body>
</html>